<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FileDrop Recovery</title>
    <link
      rel="stylesheet"
      href="{{url_for('static', filename='css/main.css')}}"
    />

    <script src="https://unpkg.com/dropzone@5/dist/min/dropzone.min.js"></script>
    <link
      rel="stylesheet"
      href="https://unpkg.com/dropzone@5/dist/min/dropzone.min.css"
      type="text/css"
    />
  </head>
  <body class="bg-slate-50 m-0 p-0 dark:bg-slate-900">
    {% with messages = get_flashed_messages() %} {% if messages %}
    <div class="text-center text-xl text-bold w-[20%] mx-auto">
      {% for message in messages %}
      <div class="bg-red-200 py-4 rounded-md text-red-700 mb-3">
        {{message}}
      </div>
      {% endfor %}
    </div>
    {% endif %} {% endwith %}

    <div
      class="flex justify-center items-center min-h-screen flex-col content-evenly text-center"
    >
      <p class="p-4 text-5xl dark:text-white">
        FileDrop
        <span
          class="font-bold bg-gradient-to-r from-red-400 to-red-600 inline-block text-transparent bg-clip-text py-2"
          >Recovery</span
        >
      </p>

      <p class="mb-4 max-w-[50%] dark:text-white">
        If you don't remember the FileDrop Panel password, feel free to use this
        recovery site. After submiting a request, a new password will appear in
        the app console. You may change it later in the Panel.
      </p>

      {% if allowed %}
      <form method="POST" action="{{url_for('main.recovery')}}">
        <input
          type="submit"
          class="bg-red-500 px-14 py-2 rounded-full text-white duration-200 hover:bg-red-600 active:bg-red-700"
          value="Recover"
        />
      </form>
      {% else %}
      <p class="bg-gray-500 px-14 py-2 rounded-full text-white duration-200">
        Recover
      </p>
      <p
        class="dark:text-white mt-4 bg-red-100 p-4 rounded-md border-red-500 border-solid border-[2px] - max-w-[90%]"
      >
        For security reasons, this option is only availiable on the host device!
      </p>
      {% endif %}
    </div>
  </body>
</html>
